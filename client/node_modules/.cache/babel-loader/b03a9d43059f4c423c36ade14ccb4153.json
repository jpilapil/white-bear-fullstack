{"ast":null,"code":"var _jsxFileName = \"/Users/justin/code/white-bear-fullstack/client/src/components/pages/AllCards.js\";\nimport React from \"react\";\nimport AppTemplate from \"../ui/AppTemplate\";\nimport MemoryCard from \"../ui/MemoryCard\";\nimport orderBy from \"lodash/orderBy\";\nimport axios from \"axios\";\nconst userId = \"79d4fa38-403b-4c36-b86a-8356dbfc5f9a\"; // const memoryCard = memoryCards[2];\n\nexport default class AllCards extends React.Component {\n  constructor(props) {\n    super(props); // initial LOCAL state\n\n    this.state = {\n      order: \"memory_cards.created_at%20DESC\",\n      memoryCards: [],\n      searchTerm: \"\"\n    };\n  } // componentDidMount is a lifecycle method, does not need to be called somewhere else, will always run\n\n\n  componentDidMount() {\n    this.setMemoryCards();\n  } // filterByInput() {\n  //   const input = document.getElementById(\"search-input\").value;\n  //   const lowerCasedInput = input.toLowerCase();\n  //   console.log(lowerCasedInput);\n  //   const copyOfAllMemoryCards = [...this.state.allMemoryCards];\n  //   const filteredMemoryCards = copyOfAllMemoryCards.filter((memoryCard) => {\n  //     const lowerCasedImagery = memoryCard.imagery.toLowerCase();\n  //     const lowerCasedAnswer = memoryCard.answer.toLowerCase();\n  //     if (\n  //       lowerCasedImagery.includes(lowerCasedInput) ||\n  //       lowerCasedAnswer.includes(lowerCasedInput)\n  //     ) {\n  //       return true;\n  //     }\n  //     return false;\n  //   });\n  //   this.setState({ displayedMemoryCards: filteredMemoryCards }, () => {\n  //     this.setMemoryCards();\n  //   });\n  // }\n\n\n  setOrder(e) {\n    const newOrder = e.target.value;\n    console.log(newOrder); //returns string\n\n    this.setState({\n      order: newOrder\n    }, () => {\n      this.setMemoryCards();\n    }); //updates state of the select to show which filter you clicked on (most recent, oldest, hardest, etc)\n  }\n\n  setSeachTerm() {\n    const searchInput = document.getElementById(\"search-input\");\n    this.setState({\n      searchTerm: searchInput\n    }, () => {\n      this.setMemoryCards();\n    });\n  }\n\n  setMemoryCards() {\n    axios.get(`/api/v1/memory-cards?userId=${userId}&searchTerm=${this.state.searchTerm}&order=${this.state.order}`).then(res => {\n      // use ES6 arrow function to grant access to 'this' https://stackoverflow.com/questions/38238512/react-this-is-undefined\n      // handle success\n      console.log(res.data);\n      this.setState({\n        memoryCards: res.data\n      });\n    }).catch(error => {\n      // handle error\n      console.log(error);\n    });\n  } // setMemoryCardsOrder(e) {\n  //   const newOrder = e.target.value;\n  //   console.log(newOrder); //returns string\n  //   const copyOfMemoryCards = [...this.state.memoryCards]; // array of all our memory cards, shallow copy\n  //   const toJson = JSON.parse(newOrder);\n  //   const orderedMemoryCards = orderBy(copyOfMemoryCards, ...toJson);\n  //   this.setState({ order: newOrder, memoryCards: orderedMemoryCards }); //updates state of the select to show which filter you clicked on (most recent, oldest, hardest, etc)\n  // }\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(AppTemplate, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-8 col-sm-8 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"search\",\n      className: \"form-control border\",\n      placeholder: \"Search for a word\",\n      id: \"search-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 col-sm-4 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary float-right\",\n      onClick: () => this.setSeachTerm(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, \"Search\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, \"Sort cards by\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.order,\n      className: \"form-control form-control-sm\",\n      onChange: e => this.setOrder(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"[[\\\"createdAt\\\"], [\\\"desc\\\"]]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, \"Most recent\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"[[\\\"createdAt\\\"], [\\\"asc\\\"]]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, \"Oldest\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"[[\\\"totalSuccessfulAttempts\\\", \\\"createdAt\\\"], [\\\"asc\\\", \\\"asc\\\"]]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, \"Hardest\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"[[\\\"totalSuccessfulAttempts\\\", \\\"createdAt\\\"], [\\\"desc\\\", \\\"desc\\\"]]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, \"Easiest\")))), this.state.memoryCards.map(memoryCard => {\n      // map through memory cards array, get each memory card\n      // find each card by id, return answer and imagery values\n      return /*#__PURE__*/React.createElement(MemoryCard, {\n        card: memoryCard,\n        key: memoryCard.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 20\n        }\n      });\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/justin/code/white-bear-fullstack/client/src/components/pages/AllCards.js"],"names":["React","AppTemplate","MemoryCard","orderBy","axios","userId","AllCards","Component","constructor","props","state","order","memoryCards","searchTerm","componentDidMount","setMemoryCards","setOrder","e","newOrder","target","value","console","log","setState","setSeachTerm","searchInput","document","getElementById","get","then","res","data","catch","error","render","map","memoryCard","id"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport AppTemplate from \"../ui/AppTemplate\";\nimport MemoryCard from \"../ui/MemoryCard\";\n\nimport orderBy from \"lodash/orderBy\";\nimport axios from \"axios\";\nconst userId = \"79d4fa38-403b-4c36-b86a-8356dbfc5f9a\";\n\n// const memoryCard = memoryCards[2];\n\nexport default class AllCards extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // initial LOCAL state\n    this.state = {\n      order: \"memory_cards.created_at%20DESC\",\n      memoryCards: [],\n      searchTerm: \"\",\n    };\n  }\n\n  // componentDidMount is a lifecycle method, does not need to be called somewhere else, will always run\n  componentDidMount() {\n    this.setMemoryCards();\n  }\n\n  // filterByInput() {\n  //   const input = document.getElementById(\"search-input\").value;\n  //   const lowerCasedInput = input.toLowerCase();\n  //   console.log(lowerCasedInput);\n  //   const copyOfAllMemoryCards = [...this.state.allMemoryCards];\n  //   const filteredMemoryCards = copyOfAllMemoryCards.filter((memoryCard) => {\n  //     const lowerCasedImagery = memoryCard.imagery.toLowerCase();\n  //     const lowerCasedAnswer = memoryCard.answer.toLowerCase();\n  //     if (\n  //       lowerCasedImagery.includes(lowerCasedInput) ||\n  //       lowerCasedAnswer.includes(lowerCasedInput)\n  //     ) {\n  //       return true;\n  //     }\n  //     return false;\n  //   });\n  //   this.setState({ displayedMemoryCards: filteredMemoryCards }, () => {\n  //     this.setMemoryCards();\n  //   });\n  // }\n\n  setOrder(e) {\n    const newOrder = e.target.value;\n    console.log(newOrder); //returns string\n    this.setState({ order: newOrder }, () => {\n      this.setMemoryCards();\n    }); //updates state of the select to show which filter you clicked on (most recent, oldest, hardest, etc)\n  }\n\n  setSeachTerm() {\n    const searchInput = document.getElementById(\"search-input\");\n    this.setState({ searchTerm: searchInput }, () => {\n      this.setMemoryCards();\n    });\n  }\n\n  setMemoryCards() {\n    axios\n      .get(\n        `/api/v1/memory-cards?userId=${userId}&searchTerm=${this.state.searchTerm}&order=${this.state.order}`\n      )\n      .then((res) => {\n        // use ES6 arrow function to grant access to 'this' https://stackoverflow.com/questions/38238512/react-this-is-undefined\n        // handle success\n        console.log(res.data);\n\n        this.setState({\n          memoryCards: res.data,\n        });\n      })\n      .catch((error) => {\n        // handle error\n        console.log(error);\n      });\n  }\n\n  // setMemoryCardsOrder(e) {\n  //   const newOrder = e.target.value;\n  //   console.log(newOrder); //returns string\n  //   const copyOfMemoryCards = [...this.state.memoryCards]; // array of all our memory cards, shallow copy\n  //   const toJson = JSON.parse(newOrder);\n  //   const orderedMemoryCards = orderBy(copyOfMemoryCards, ...toJson);\n  //   this.setState({ order: newOrder, memoryCards: orderedMemoryCards }); //updates state of the select to show which filter you clicked on (most recent, oldest, hardest, etc)\n  // }\n\n  render() {\n    return (\n      <AppTemplate>\n        <div>\n          {/* Search */}\n          <div className=\"row mt-3\">\n            <div className=\"col-8 col-sm-8 mb-4\">\n              <input\n                type=\"search\"\n                className=\"form-control border\"\n                placeholder=\"Search for a word\"\n                id=\"search-input\"\n              />\n            </div>\n            <div className=\"col-4 col-sm-4 mb-4\">\n              <button\n                className=\"btn btn-sm btn-primary float-right\"\n                onClick={() => this.setSeachTerm()}\n              >\n                Search\n              </button>\n            </div>\n          </div>\n\n          {/* Sort  */}\n\n          <div className=\"row\">\n            <div className=\"col-6 mb-4\">\n              <p className=\"text-muted\">Sort cards by</p>\n            </div>\n            <div className=\"col-6 mb-4\">\n              <select\n                value={this.state.order}\n                className=\"form-control form-control-sm\"\n                onChange={(e) => this.setOrder(e)}\n              >\n                <option value='[[\"createdAt\"], [\"desc\"]]'>Most recent</option>\n                <option value='[[\"createdAt\"], [\"asc\"]]'>Oldest</option>\n                <option value='[[\"totalSuccessfulAttempts\", \"createdAt\"], [\"asc\", \"asc\"]]'>\n                  Hardest\n                </option>\n                <option value='[[\"totalSuccessfulAttempts\", \"createdAt\"], [\"desc\", \"desc\"]]'>\n                  Easiest\n                </option>\n              </select>\n            </div>\n          </div>\n          {this.state.memoryCards.map((memoryCard) => {\n            // map through memory cards array, get each memory card\n            // find each card by id, return answer and imagery values\n            return <MemoryCard card={memoryCard} key={memoryCard.id} />;\n          })}\n        </div>\n      </AppTemplate>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}